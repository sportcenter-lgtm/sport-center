
    def calculate_month_stats(self, month: str) -> List[Dict]:
        """
        Returns stats for all students for the given month:
        - Attendance vs Target
        - Absences
        - Rollover Credits (current balance)
        """
        stats = []
        
        # Get all classes for the month
        month_classes = [c for c in self.classes if c["date"].startswith(month)]
        
        for student in self.players:
            student_id = student["id"]
            name = student["name"]
            
            # Get target (default 8)
            target = 8
            # Note: Assuming self.monthly_targets is loaded/managed elsewhere or we default to 8
            # If monthly_targets isn't in __init__, we might need to load it or just use default.
            # Let's check if monthly_targets exists in the class.
            # For now, simplistic approach or check if a method exists.
            
            attended_count = 0
            absences_count = 0
            
            for c in month_classes:
                if "attendance" in c and student_id in c["attendance"]:
                    status = c["attendance"][student_id]
                    if status == "present":
                        attended_count += 1
                    elif status == "absent":
                        absences_count += 1
            
            # Current credits as rollover
            rollover_credits = student.get("makeup_credits", 0)
            
            stats.append({
                "student_id": student_id,
                "name": name,
                "target": target,
                "attended": attended_count,
                "absences": absences_count,
                "rollover_credits": rollover_credits,
                "achieved": attended_count >= target
            })
            
        # Sort by name
        stats.sort(key=lambda x: x["name"])
        return stats
